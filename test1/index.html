<!-- survey.html -->
<form id="surveyForm">
    <input type="text" name="username" placeholder="名前" required />
    <select name="answer">
      <option value="炎">炎</option>
      <option value="水">水</option>
      <option value="草">草</option>
    </select>
    <button type="submit">送信</button>
  </form>
  
  <script>
    const form = document.getElementById('surveyForm');
    form.addEventListener('submit', async (e) => {
      e.preventDefault();
      const formData = new FormData(form);
      const payload = {
        username: formData.get('username'),
        answer: formData.get('answer'),
      };
  
      const res = await fetch('/.netlify/functions/submit-response', {
        method: 'POST',
        body: JSON.stringify(payload),
      });
  
      const result = await res.json();
      alert(`送信完了！PR URL: ${result.url}`);
    });
  </script>
  